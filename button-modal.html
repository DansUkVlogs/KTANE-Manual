<div class="module-header">
    <div class="module-title">
        <span class="module-icon">üî¥</span>
        <h2>Button</h2>
        <div class="difficulty-badge easy">Easy</div>
    </div>
    <p class="module-description">Press or hold based on color, text, and strip conditions</p>
</div>

<div class="module-content">
    <div class="instructions-section">
        <div class="warning-banner">
            ‚ö†Ô∏è <strong>Important:</strong> Some rules require checking the <strong>batteries</strong> and <strong>indicators</strong> on the bomb casing
        </div>
        
        <h3>üìã Instructions</h3>
        <p class="instructions-intro">Follow the decision tree based on button color and text:</p>
        
        <!-- Button Decision Tabs -->
        <div class="button-tabs">
            <button class="button-tab active" data-action="automatic" aria-label="Automatic"><span style="font-size:1.3em;">‚öôÔ∏è</span></button>
            <button class="button-tab" data-action="press" aria-label="Press Rules"><span style="font-size:1.3em;">ü§ö</span></button>
            <button class="button-tab" data-action="hold" aria-label="Hold Rules"><span style="font-size:1.3em;">‚è≥</span></button>
        </div>
        
        <!-- Tab Content -->
        <div class="button-tab-content">
            <!-- Automatic Tab -->
            <div class="tab-pane active" data-tab="automatic">
                <div class="auto-solver" id="autoSolver">
                    <!-- Step 1: Button Analysis -->
                    <div class="solver-step active" id="step-analysis">
                        <div class="step-header">
                            <h4>üî¥ Step 1: Button Analysis</h4>
                            <p>What do you see on the button?</p>
                        </div>
                        <div class="analysis-form">
                            <div class="form-group">
                                <label>Button Color:</label>
                                <select id="buttonColor" class="form-select">
                                    <option value="">Select color...</option>
                                    <option value="red">Red</option>
                                    <option value="blue">Blue</option>
                                    <option value="white">White</option>
                                    <option value="yellow">Yellow</option>
                                    <option value="black">Black</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Button Text:</label>
                                <select id="buttonText" class="form-select">
                                    <option value="">Select text...</option>
                                    <option value="abort">Abort</option>
                                    <option value="detonate">Detonate</option>
                                    <option value="hold">Hold</option>
                                    <option value="press">Press</option>
                                </select>
                            </div>
                            <button class="analyze-btn" id="analyzeBtn" disabled>üîç Analyze Button</button>
                        </div>
                    </div>

                    <!-- Dynamic Question Steps -->
                    <div class="solver-step" id="step-questions">
                        <div class="step-header">
                            <div class="progress-indicator">
                                <span class="progress-text">Question <span id="currentQuestion">1</span> of <span id="totalQuestions">2</span></span>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressFill"></div>
                                </div>
                            </div>
                            <h4 id="questionTitle">üîç Question</h4>
                            <p id="questionText">Loading...</p>
                        </div>
                        <div class="question-buttons">
                            <button class="answer-btn yes-btn" id="yesBtn">Yes</button>
                            <button class="answer-btn no-btn" id="noBtn">No</button>
                        </div>
                        <div class="step-controls">
                            <button class="control-btn back-btn" id="backBtn">‚Üê Back</button>
                        </div>
                    </div>

                    <!-- Final Answer -->
                    <div class="solver-step" id="step-result">
                        <div class="step-header">
                            <h4>‚úÖ Solution Found!</h4>
                            <div class="result-display" id="resultDisplay">
                                <div class="result-action" id="actionAnswer">Press the button immediately</div>
                                <div class="result-explanation" id="resultExplanation">Based on your button analysis...</div>
                            </div>
                        </div>
                        <div class="step-controls">
                            <button class="control-btn back-btn" id="backToQuestion">‚Üê Back</button>
                            <button class="control-btn restart-btn" id="restartBtn">üîÑ Start Over</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Press Rules Tab -->
            <div class="tab-pane" data-tab="press">
                <div class="rules-content">
                    <div class="rule-header">
                        <div class="rule-icon">‚ö°</div>
                        <h4>When to Press Immediately</h4>
                    </div>
                    
                    <div class="rules-list">
                        <div class="rule-item">
                            <div class="rule-number">2</div>
                            <div class="rule-content">
                                <div class="rule-condition">More than 1 battery + "Detonate" text</div>
                                <div class="rule-action">Press and immediately release</div>
                            </div>
                        </div>
                        
                        <div class="rule-item">
                            <div class="rule-number">4</div>
                            <div class="rule-content">
                                <div class="rule-condition">More than 2 batteries + lit FRK indicator</div>
                                <div class="rule-action">Press and immediately release</div>
                            </div>
                        </div>
                        
                        <div class="rule-item">
                            <div class="rule-number">6</div>
                            <div class="rule-content">
                                <div class="rule-condition">Red button + "Hold" text</div>
                                <div class="rule-action">Press and immediately release</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="rule-note">
                        <strong>üí° Important:</strong> These are the only conditions where you press immediately. All other situations require holding the button.
                    </div>
                </div>
            </div>
            
            <!-- Hold Rules Tab -->
            <div class="tab-pane" data-tab="hold">
                <div class="rules-content">
                    <div class="rule-header">
                        <div class="rule-icon">‚è±Ô∏è</div>
                        <h4>Hold & Release Rules</h4>
                    </div>
                    
                    <div class="hold-section">
                        <h5>üîΩ When to Hold the Button:</h5>
                        <div class="rules-list">
                            <div class="rule-item">
                                <div class="rule-number">1</div>
                                <div class="rule-content">
                                    <div class="rule-condition">Blue button + "Abort" text</div>
                                </div>
                            </div>
                            
                            <div class="rule-item">
                                <div class="rule-number">3</div>
                                <div class="rule-content">
                                    <div class="rule-condition">White button + lit CAR indicator</div>
                                </div>
                            </div>
                            
                            <div class="rule-item">
                                <div class="rule-number">5</div>
                                <div class="rule-content">
                                    <div class="rule-condition">Yellow button (any text)</div>
                                </div>
                            </div>
                            
                            <div class="rule-item">
                                <div class="rule-number">7</div>
                                <div class="rule-content">
                                    <div class="rule-condition">None of the above conditions</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="release-section">
                        <h5>üéØ When to Release (Based on Strip Color):</h5>
                        <div class="strip-rules">
                            <div class="strip-rule">
                                <div class="strip-color blue"></div>
                                <div class="strip-info">
                                    <div class="strip-label">Blue Strip</div>
                                    <div class="strip-timing">Release when timer has a <strong>4</strong> in any position</div>
                                </div>
                            </div>
                            
                            <div class="strip-rule">
                                <div class="strip-color white"></div>
                                <div class="strip-info">
                                    <div class="strip-label">White Strip</div>
                                    <div class="strip-timing">Release when timer has a <strong>1</strong> in any position</div>
                                </div>
                            </div>
                            
                            <div class="strip-rule">
                                <div class="strip-color yellow"></div>
                                <div class="strip-info">
                                    <div class="strip-label">Yellow Strip</div>
                                    <div class="strip-timing">Release when timer has a <strong>5</strong> in any position</div>
                                </div>
                            </div>
                            
                            <div class="strip-rule">
                                <div class="strip-color other"></div>
                                <div class="strip-info">
                                    <div class="strip-label">Any Other Color</div>
                                    <div class="strip-timing">Release when timer has a <strong>1</strong> in any position</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="rule-note">
                        <strong>‚ö†Ô∏è Critical:</strong> Watch the countdown timer carefully! The strip appears on the right side when you hold the button.
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="reference-section">
        <h3>üéØ Quick Reference</h3>
        <div class="reference-grid">
            <div class="reference-item">
                <div class="button-color red"></div>
                <span>Red Button</span>
            </div>
            <div class="reference-item">
                <div class="button-color blue"></div>
                <span>Blue Button</span>
            </div>
            <div class="reference-item">
                <div class="button-color white"></div>
                <span>White Button</span>
            </div>
            <div class="reference-item">
                <div class="button-color yellow"></div>
                <span>Yellow Button</span>
            </div>
            <div class="reference-item">
                <div class="button-color black"></div>
                <span>Black Button</span>
            </div>
        </div>
        
        <div class="serial-note">
            <strong>üí° Remember:</strong> Check the bomb's batteries and indicators for some button rules!
        </div>
    </div>
</div>

<link rel="stylesheet" href="button-modal.css">
<script src="button-modal.js"></script>